version: 2.1

executors:
  linux: # a Linux VM running Ubuntu 20.04
    machine:
      image: ubuntu-2204:current
  macos: # macos executor running Xcode
    macos:
      xcode: 15.2.0

jobs:
  build:
    parameters:
      executor:
        type: executor
        default: linux
      resource_class:
        type: string
        default: arm.medium
    executor: << parameters.executor >>
    resource_class: << parameters.resource_class >>
    steps:
      - checkout
      - run:
          name: "Say hello"
          command: "echo Hello, World!"

workflows:
  builds:
    jobs:
      - build:
          matrix:
            parameters:
              executor: [linux, macos]
              resource_class: [medium, arm.medium]
